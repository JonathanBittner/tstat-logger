<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Historical Temperature Data</title>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script type="text/javascript">
$(function() {
    var outdoor;
    $.getJSON("http://localhost/honeywell/outdoortemp.py", function(json){
        outdoor = json;
    });

    var heatsetpoint;
    $.getJSON("http://localhost/honeywell/setpoint.py", function(json){
        heatsetpoint = json;
    });

    $.getJSON('http://localhost/honeywell/indoortemp.py', function(indoor) {

		// Create the chart
		$('#container').highcharts('StockChart', {


			rangeSelector : {
				selected : 1
			},

			title : {
				text : 'Home Temperatures'
			},

			series : [{
				name : 'Indoor Temp',
				data : indoor,
				marker : {
					enabled : true,
					radius : 3
				},
				shadow : true,
				tooltip : {
					valueDecimals : 2
				}
             },
             {
				name : 'Outdoor Temp',
				data : outdoor,
				marker : {
					enabled : true,
					radius : 3
				},
				shadow : true,
				tooltip : {
					valueDecimals : 2
				}
             },
             {
				name : 'Heat Set Point',
				data : heatsetpoint,
				marker : {
					enabled : true,
					radius : 3
				},
				shadow : true,
				tooltip : {
					valueDecimals : 2
				}
             }]
		});
	});
});

		</script>
	</head>
	<body>
<script src="js/highstock.js"></script>
<script src="js/modules/exporting.js"></script>

<div id="container" style="height: 500px; min-width: 500px"></div>
	</body>
</html>
